import{j as e}from"./index-D_vtScmW.js";import{r as t}from"./react-vendor-Fq2Sw-nb.js";import u from"./ReconciliationApp-BakSg8St.js";import{d as h}from"./router-CFMIZ337.js";import"./auth-DoljvRgB.js";import"./admin-utils-lVyF4nhZ.js";import"./xlsx-BBMPxr6S.js";import"./download-Vk9iNMnh.js";import"./check-circle-BxG_zeD1.js";function J(){const{clientname:s}=h(),[x,f]=t.useState(!1),[c,d]=t.useState(null),[m,p]=t.useState(!0),[j,g]=t.useState({email:"",password:""}),[i,n]=t.useState("");return t.useEffect(()=>{(async()=>{if(s)try{console.log("🔍 Loading client portal for:",s);const a="https://qkrptazfydtaoyhhczyr.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFrcnB0YXpmeWR0YW95aGhjenlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzNjk4MjEsImV4cCI6MjA2NTk0NTgyMX0.1RMndlLkNeztTMsWP6_Iu8Q0VNGPYRp2H9ij7OJQVaM",l=await fetch(`${a}/rest/v1/clients?client_path=eq.${s}`,{method:"GET",headers:{apikey:o,Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(l.ok){const r=await l.json();r&&r.length>0?(d(r[0]),console.log("✅ Client portal loaded:",r[0])):n("Client portal not found")}else n("Client portal not found")}catch(a){console.error("Error loading client:",a),n("Error loading client portal")}finally{p(!1)}})()},[s]),m?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading client portal..."})]})}):i||!c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(FileText,{className:"h-8 w-8 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Portal Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:i||"This client portal does not exist"}),e.jsx("a",{href:"/",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Return to Home"})]})}):e.jsx(u,{})}export{J as default};
